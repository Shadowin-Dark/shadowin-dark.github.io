<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Shadowin Dark&#39;s Blog">
<meta property="og:url" content="http://shadowin-dark.github.io/index.html">
<meta property="og:site_name" content="Shadowin Dark&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shadowin Dark&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://shadowin-dark.github.io/"/>





  <title>Shadowin Dark's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shadowin Dark's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shadowin-dark.github.io/2018/06/07/2018-06-07-college-entrance-exam-writing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadowin Dark">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadowin Dark's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/07/2018-06-07-college-entrance-exam-writing/" itemprop="url">绿水青山图</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-07T22:18:32+08:00">
                2018-06-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>绿水青山图，听起来挺诗情画意的名字，在2018年的考场上，出现的也真是残酷。</p>
<p>好在今天的天气还不错，看来你依旧安好，六月七日——晴天。一大早出门时，背后是高照艳阳，前一天刚下过雨，晒而不热，暖风拂面，晴空万里。等到中午的时候，白云开始任意翻卷成各种形状，坐在窗边，怀念着初中时躺着操场上遐想的时间。傍晚的云已经积累成雨，准备着再次回归到这大地。看得出，明天还会是一个好天气。</p>
<p>如果每天都是这样该有多好，没有绿水没有青山，只求蓝天一片，白云朵朵，足矣。</p>
<p>青山早已变成楼房，绿水也早已成为缓缓的车流。但我仍想大口畅快的呼吸，在田野间奔跑，在山间呐喊，等待着自己的回声，那是大自然给我的回信，一遍又一遍，在苍穹之间，我呼吸着他的气息。流水潺潺，清澈透明，捧在手里是蓝天的颜色，流在山间是草木的颜色，那叮咚的旋律，是大自然最沁人的图案。</p>
<p>飞鸟掠过，把我留在楼宇之间，此刻，我只听到了发动机的轰鸣。看着它的远去，我望着长空，坠落。</p>
<p>不知道是不是每个人都曾经有过这样一个梦，我相信都有过的，只是有些人忘记了。绿水，青山，独木桥，桥的这一端是砖瓦垒砌的小村庄，那一头是山路。那是我还小，在村里玩耍，小孩子都很贪玩，一转眼妈妈就不见了，我慌张的四处寻找，最后只看到了她的背影。那时我在独木桥的这一头，她在桥上缓缓往那边走去，一身纯洁的白纱，在水面上打出倒影，美到窒息，美到我傻傻的站在那里忘记前行，或者说不愿也不敢去破坏这一副山水画。就这么看着她远去，最终消失在路的尽头，绿树环绕的地方。然后惊醒。至今，我的心还在那个小村庄里游荡，等着她回来，为自己的贪玩向她道歉，但她却再也没有回来，再也没有在我的梦中出现，再也没有。</p>
<p>看到绿水青山图这个名字，莫名就想起了她，我想我不应该再等待了，我要去追赶她的步伐，离开这座让我贪玩的小村庄，去追求我的向往。去大山的深处，自由自在的生活，追逐山间的回响，倾听流水的旋律，闻着花香，数着飞鸟。那里才是我的归宿。</p>
<p>梦醒来，我还在小村庄里，在2018年的高考考场上，蓝天白云孩子，但通往大山的独木桥，在日渐浑浊的水面上渐渐消失。我现在桥的这头，眼前的一切，慢慢凝结成一幅青山绿水图。</p>
<font color="Gray"><br>困了困了，结尾写得可能太悲伤了，还是不要发生的好。保住眼前的蓝天白云，终有一日我们能走过独木桥，回归大自然的青山绿水之间<br></font>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shadowin-dark.github.io/2018/05/22/2018-05-22-46-Permutations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadowin Dark">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadowin Dark's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/22/2018-05-22-46-Permutations/" itemprop="url">Slice Append Trap in Golang</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-22T22:28:55+08:00">
                2018-05-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Golang/" itemprop="url" rel="index">
                    <span itemprop="name">Golang</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近再用没事的时间刷leetcode，顺便学习一下Golang的简单语法，然后就被坑了。。。</p>
<p>今天遇到的题目是 #46-Permutations</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Given a collection of distinct integers, return all possible permutations.</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line"></span><br><span class="line">Input: [1,2,3]</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">  [1,2,3],</span><br><span class="line">  [1,3,2],</span><br><span class="line">  [2,1,3],</span><br><span class="line">  [2,3,1],</span><br><span class="line">  [3,1,2],</span><br><span class="line">  [3,2,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>题目应该来说比较常规啦，没什么算法可言，输出就是 n! 了，就拿笨办法做吧，于是就有了下面我的code，非常无脑的反复堆叠数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">func permute(nums []int) [][]int &#123;</span><br><span class="line">    var ret,hold [][]int</span><br><span class="line">    for _,v := range nums &#123;</span><br><span class="line">        hold = append(hold, []int&#123;v&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    for i := 1; i &lt; len(nums); i++ &#123;</span><br><span class="line">        for _,arr := range hold &#123;</span><br><span class="line">            for _,v := range nums &#123;</span><br><span class="line">                flag := true</span><br><span class="line">                for _,a := range arr &#123;</span><br><span class="line">                    if a == v &#123;</span><br><span class="line">                        flag = false</span><br><span class="line">                        break</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                if flag &#123;</span><br><span class="line">                    ret = append(ret, append(arr,v))</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        hold = ret</span><br><span class="line">        ret = make([][]int, 0)</span><br><span class="line">    &#125;</span><br><span class="line">    return hold</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>本来以为是辣么简单的逻辑，然而。。。竟然出现了wrong answer…</p>
<p>你可以说我run time error，你可以说我time limit，但是为什么会有wrong answer…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[6,3,2,7,4,-1]</span><br><span class="line">Output:</span><br><span class="line">[[6,3,2,-1,7,4],[6,3,2,-1,4,7],[6,3,2,-1,7,4],[6,3,2,-1,4,7],...</span><br><span class="line">Expected:</span><br><span class="line">[[6,3,2,7,4,-1],[6,3,2,7,-1,4],[6,3,2,4,7,-1],[6,3,2,4,-1,7],...</span><br></pre></td></tr></table></figure>
<p>看起来好像是顺序问题，但仔细一看Output的前两个元素一毛一样啊 ヽ(*。&gt;Д&lt;)o゜</p>
<p>吐了好几摊血之后，有了下面一段debug记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">func permute(nums []int) [][]int &#123;</span><br><span class="line">    var ret,hold [][]int</span><br><span class="line">    for _,v := range nums &#123;</span><br><span class="line">        hold = append(hold, []int&#123;v&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    for i := 1; i &lt; len(nums); i++ &#123;</span><br><span class="line">        for _,arr := range hold &#123;</span><br><span class="line">            for _,v := range nums &#123;</span><br><span class="line">                fmt.Println(1,ret) // #1</span><br><span class="line">                flag := true</span><br><span class="line">                for _,a := range arr &#123;</span><br><span class="line">                    if a == v &#123;</span><br><span class="line">                        flag = false</span><br><span class="line">                        break</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                if flag &#123;</span><br><span class="line">                    fmt.Println(2,ret) // #2</span><br><span class="line">                    a := append(arr,v)</span><br><span class="line">                    fmt.Println(3,ret) // #3</span><br><span class="line">                    ret = append(ret, a)</span><br><span class="line">                    fmt.Println(4,ret) // #4</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        hold = ret</span><br><span class="line">        ret = make([][]int, 0)</span><br><span class="line">    &#125;</span><br><span class="line">    return hold</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Output 节选，前面的都对，不要问为什么</span><br><span class="line">1 []</span><br><span class="line">1 []</span><br><span class="line">1 []</span><br><span class="line">1 []</span><br><span class="line">2 []</span><br><span class="line">3 []</span><br><span class="line">4 [[1 2 3 4]]</span><br><span class="line">1 [[1 2 3 4]]</span><br><span class="line">2 [[1 2 3 4]]</span><br><span class="line">3 [[1 2 3 5]]  // &lt;-</span><br><span class="line">4 [[1 2 3 5] [1 2 3 5]]</span><br></pre></td></tr></table></figure>
<p>作为一个相信科学的小码农，我第一次感到了来自未知世界的恶意，#2 和 #3 之间的操作可以说与数组ret完全没有关系，然而，ret的值，变了。。。 没错，当len(arr)=2的时候没有变，当len(arr)=4的时候没有变，而在len(arr)=3的时候，变了。</p>
<p>本着Geek精神，又加了点料，打印了ret和中间量a的地址<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">func permute(nums []int) [][]int &#123;</span><br><span class="line">    var ret,hold [][]int</span><br><span class="line">    for _,v := range nums &#123;</span><br><span class="line">        hold = append(hold, []int&#123;v&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    for i := 1; i &lt; len(nums); i++ &#123;</span><br><span class="line">        for _,arr := range hold &#123;</span><br><span class="line">            for _,v := range nums &#123;</span><br><span class="line">                fmt.Printf(&quot;%p &quot;,ret)</span><br><span class="line">                fmt.Println(1,ret)</span><br><span class="line">                flag := true</span><br><span class="line">                for _,a := range arr &#123;</span><br><span class="line">                    if a == v &#123;</span><br><span class="line">                        flag = false</span><br><span class="line">                        break</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                if flag &#123;</span><br><span class="line">                    fmt.Printf(&quot;%p &quot;,ret)</span><br><span class="line">                    fmt.Println(2,ret)</span><br><span class="line">                    a := append(arr,v)</span><br><span class="line">                    fmt.Printf(&quot;%p %p &quot;,ret, a)</span><br><span class="line">                    fmt.Println(3,ret)</span><br><span class="line"></span><br><span class="line">                    ret = append(ret, a)</span><br><span class="line">                    fmt.Printf(&quot;%p %p &quot;,ret, a)</span><br><span class="line">                    fmt.Println(4,ret)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        hold = ret</span><br><span class="line">        ret = make([][]int, 0)</span><br><span class="line">    &#125;</span><br><span class="line">    return hold</span><br><span class="line">&#125;</span><br><span class="line">// Output - 没有错误的地方</span><br><span class="line">0x1953e4 1 []</span><br><span class="line">0x1953e4 2 []</span><br><span class="line">0x1953e4 0x10415ae0 3 []</span><br><span class="line">0x10462220 0x10415ae0 4 [[1 2 3]]</span><br><span class="line">0x10462220 1 [[1 2 3]]</span><br><span class="line">0x10462220 2 [[1 2 3]]</span><br><span class="line">0x10462220 0x10415b20 3 [[1 2 3]]</span><br><span class="line">0x10448280 0x10415b20 4 [[1 2 3] [1 2 4]]</span><br><span class="line">// Output - 出错的地方</span><br><span class="line">0x1953e4 1 []</span><br><span class="line">0x1953e4 2 []</span><br><span class="line">0x1953e4 0x10415ae0 3 []</span><br><span class="line">0x104a3610 0x10415ae0 4 [[1 2 3 4]] // &lt;-前一个循环</span><br><span class="line">0x104a3610 1 [[1 2 3 4]]</span><br><span class="line">0x104a3610 2 [[1 2 3 4]]</span><br><span class="line">0x104a3610 0x10415ae0 3 [[1 2 3 5]] // &lt;-后一个循环</span><br><span class="line">0x104482a0 0x10415ae0 4 [[1 2 3 5] [1 2 3 5]]</span><br></pre></td></tr></table></figure></p>
<p>在没有出错的地方，每一次临时变量a的地址都是会变动的，而在出错的地方，第二次声明临时量a的时候地址没有发生变化，很显然ret还在引用着这个地址，于是后一次的更新直接导致ret的改变。简直就像是恐怖片。。。</p>
<p>网上查了一些资料（见reference吧），Golang的slice有自己的优化方式。而从我们遇到的问题来解释，事实上呢，0x10415ae0——这个地址就是此时arr的地址，不用说此时arr的cap肯定还有富余，底层在执行append的时候就偷懒没有去申请新的地址，于是就悲剧了</p>
<p>关于slice的cap是怎么分配的，做了一个试验<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var a []int</span><br><span class="line">for i:=0;i&lt;100;i++ &#123;</span><br><span class="line">    a = append(a,1)</span><br><span class="line">    fmt.Println(cap(a),a)</span><br><span class="line">&#125;</span><br><span class="line">// Output</span><br><span class="line">2 [1]</span><br><span class="line">2 [1 1]</span><br><span class="line">4 [1 1 1]</span><br><span class="line">4 [1 1 1 1]</span><br><span class="line">8 [1 1 1 1 1]</span><br><span class="line">8 [1 1 1 1 1 1]</span><br><span class="line">8 [1 1 1 1 1 1 1]</span><br><span class="line">8 [1 1 1 1 1 1 1 1]</span><br><span class="line">16 [1 1 1 1 1 1 1 1 1]</span><br><span class="line">16 [1 1 1 1 1 1 1 1 1 1]</span><br><span class="line">16 [1 1 1 1 1 1 1 1 1 1 1]</span><br></pre></td></tr></table></figure></p>
<p>结论应该显而易见了，而对于怎么修正 #46-Permutations 的solution，在此也就不赘述了</p>
<font size="4"><br>Reference<br></font>

<ol>
<li>leetcode: <a href="https://leetcode.com/" target="_blank" rel="noopener">https://leetcode.com/</a></li>
<li>Golang：slice之append时原数组发生变化的问题:<br><a href="https://blog.csdn.net/books1958/article/details/46931127" target="_blank" rel="noopener">https://blog.csdn.net/books1958/article/details/46931127</a></li>
<li>对GoLang里的slice要谨慎使用append操作:<br><a href="https://blog.csdn.net/gzliudan/article/details/23515381" target="_blank" rel="noopener">https://blog.csdn.net/gzliudan/article/details/23515381</a></li>
</ol>
<font color="Gray" size="1"><br>人到中年，整个一部西游记！悟空的压力，八戒的身材，老沙的发型，唐僧一样絮絮叨叨！还特么的离西天越来越近了[捂脸]<br></font>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shadowin-dark.github.io/2018/04/11/2018-04-11-story-of-JS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadowin Dark">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadowin Dark's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/11/2018-04-11-story-of-JS/" itemprop="url">JavaScript的‘故’事</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-11T22:18:47+08:00">
                2018-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>上帝创造世界用了七天时间，上帝想毁灭世界，于是有了JavaScript</p>
<p>很多人诟病JavaScript，描述为审判日的预兆，但JS究竟做了什么，会被黑的如此惨烈呢，作为一个重度使用JS的入门玩家，简单做了一些调查，今天的话题也是从这里开始的</p>
<img src="/2018/04/11/2018-04-11-story-of-JS/JS_is_coming.jpg">
<p>JavaScript的原型是1995年由Netscape公司的Brendan Eich所开发的程序设计语言LiveScript，其本意也是为了能给当时如同报纸一样死板的HTML注入一些生命与活力。后来Netscape 2.0发布之后，正式更名为JavaScript。</p>
<p>再后来竞争对手Microsoft看着眼红，发布了支持JScript的IE 3.0。JScript呢，基本上就是就是JavaScript的翻版，就好像C#对于Java的样子，而且还引入了一些IE独有的特性。</p>
<p>后来大家觉得这么下去不是个事，为了使语言的实现更趋向于标准化，ECMA(European Computer Manufacturers Association)建立了ECMAScript，也就是大名鼎鼎的ES，同时创建了ECMA-262标准，该标准脱离了浏览器和那些Web独有的特性，集中描述了JavaScript作为编程语言的核心部分。</p>
<p>迄今为止，ECMA-262已经有了N多的版本，也从最开始的编号，演变成现在的按照年份编号。目前就我来说接触比较多的是ES5和ES6了</p>
<img src="/2018/04/11/2018-04-11-story-of-JS/IE_vs_Netscape.jpeg">
<p>而JS真正成是在1996年到2001年的第一波互联网热潮中。当时Netscape和Microsoft都在争夺浏览器的制霸权，疯狂的进行浏览器的版本演化，不断给其增加各种浮夸的特性，却忽略了对于开发工具JS的更新。伴随着无穷无尽的兼容性问题，在那个连高亮JS关键字的文本编辑器都没有的年代，开发JS的痛苦可想而知。另一方面，浏览器的用户体验也十分捉急。内忧外患之下，JS的声誉也是一损再损。</p>
<p>第一次浏览器大战的结局相比大家都清楚，MS最终以IE6平定了天下，然而讽刺的是IE6也成为了所有前端开发挥之不散的噩梦。<br><img src="/2018/04/11/2018-04-11-story-of-JS/leave_ie6_away.jpeg"></p>
<p>好在后来MS后来放松了警惕，市场回归正轨，诸多浏览器再度兴起，也加速了对于统一标准的需求。ES的推动下，JS也在前端站稳了脚，形成了现如今HTML（内容），CSS（表现），JS（行为）三家联手的模式。</p>
<font size="4"><br>Reference<br></font>

<ol>
<li>JavaScript面向对象编程指南（第2版）</li>
<li>ESMA-262: <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm" target="_blank" rel="noopener">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shadowin-dark.github.io/2018/04/07/2018-04-07-space-vs-tab/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadowin Dark">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadowin Dark's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/2018-04-07-space-vs-tab/" itemprop="url">圣战：Space vs Tab</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-07T22:33:21+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>怎么说呢，这就开始了</p>
<p>其实一直在想第一篇博客要写成什么样子，设计过很多宏伟的开篇，也想过以一个类似“Hello World”的程序作为开始，但貌似都比较难以付诸于实现，于是结果总会是一拖再拖。</p>
<p>其实择日不如撞日，倒不如就这样开始好啦~</p>
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_1.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_2.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_3.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_4.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_5.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_6.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_7.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_8.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_9.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_10.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_11.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_12.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_13.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_14.jpg">
<img src="/2018/04/07/2018-04-07-space-vs-tab/sj_15.jpg">
<p>具体使用的情况，google提供了一份调查数据：<br><img src="/2018/04/07/2018-04-07-space-vs-tab/sj_0.jpg"><br>额，怎么说呢，经过40万个Repo，10亿份代码文件，14TB代码的调查，得出了结论——用Golang的都是变态么😏</p>
<p>好吧其实现在都用上IDE了，包括我写blog的时候都是一边看code，一边看Markdown的preview写的，也就不那么纠结于tab和space的圣战了，反正使用IDE之前先按照公司标准或者个人偏好设置一下就好。</p>
<p>其实每一个程序员都有着或多或少的强迫症，代码是否work放在一边，一定要好看，颜值神马的最重要了。</p>
<p>对我个人来讲，写code本就是写意，就要写的开心，写得唯美。想想也是在这条不归路上越走越远了 (ノへ￣、)捂脸</p>
<p>好了，就到这里了，盗图发了第一篇，希望能奠定一下基调O(∩_∩)O~~</p>
<font size="4"><br>Reference<br></font>

<ol>
<li>最新编程语言排行榜：<a href="https://hellogithub.com/tiobe/" target="_blank" rel="noopener">https://hellogithub.com/tiobe/</a></li>
<li>Uku Pattak 10份代码分析报告：<a href="http://blog.jobbole.com/105381/" target="_blank" rel="noopener">http://blog.jobbole.com/105381/</a></li>
</ol>
<font color="Gray" size="1"><br>有一辆列车在你面前，列车员问你，“小伙子，你要上车吗？”你就问，“这车去哪，下一站什么时候到，车上还有座位吗？”火车早就开走了，你只能等下一辆。可是下一辆来了你还是面临同样的问题。等了很久，别人已经到西伯利亚了，你还在车站上。<br>管他呢，上去呀。火车是朝前开的，去哪儿并不重要，关键在于窗外的风景。等你下了火车，你就会感谢我的，因为就算有辆飞机停在旁边你也会二话不说的冲上去的，因为你嫌火车太慢了……<br></font>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shadowin-dark.github.io/2017/12/31/2017-12-31-hello-hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadowin Dark">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shadowin Dark's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/31/2017-12-31-hello-hexo/" itemprop="url">Hello Hexo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-31T22:33:43+08:00">
                2017-12-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/从零开始/" itemprop="url" rel="index">
                    <span itemprop="name">从零开始</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to <a href="https://shadowin-dark.github.io/">remote sites</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<h3 id="Local-preview-in-one-command"><a href="#Local-preview-in-one-command" class="headerlink" title="Local preview in one command"></a>Local preview in one command</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp; hexo g &amp; hexo s</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="Shadowin Dark" />
            
              <p class="site-author-name" itemprop="name">Shadowin Dark</p>
              <p class="site-description motion-element" itemprop="description">这不是一个技术博客<br/>这不是一个技术博客<br/>这真的不是一个技术博客</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/shadowin-dark" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shadowin Dark</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
